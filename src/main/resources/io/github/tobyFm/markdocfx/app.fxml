<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Label?>
<?import javafx.scene.control.SplitPane?>
<?import javafx.scene.control.TreeView?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.web.WebView?>

<?import io.github.palexdev.materialfx.controls.MFXButton?>
<BorderPane maxHeight="-Infinity" maxWidth="-Infinity" prefHeight="1080.0" prefWidth="1920.0"
            xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="io.github.tobyFm.markdocfx.Controller">

    <top>
        <HBox alignment="CENTER" prefHeight="44.0" prefWidth="1920.0" spacing="10"
              BorderPane.alignment="CENTER">
            <ImageView fitHeight="64.0" fitWidth="61.0" pickOnBounds="true" preserveRatio="true">
                <image>
                    <Image url="@assets/MarkDokFX_app_icon2.png"/>
                </image>
            </ImageView>
            <Label text="MarkDocFX">
                <font>
                    <Font size="36.0"/>
                </font>
            </Label>
        </HBox>
    </top>

    <center>
        <SplitPane dividerPositions="0.2"
                   maxHeight="1.7976931348623157E308"
                   maxWidth="1.7976931348623157E308"
                   BorderPane.alignment="CENTER">

            <!-- Left-Sektion mit TreeView -->
            <VBox prefWidth="234.0" style="-fx-background-color: #333;">
                <HBox>
                    <MFXButton fx:id="openFile" text="Open File" onAction="#openFile"></MFXButton>
                    <MFXButton fx:id="openFolder" text="Open Folder"></MFXButton>
                    <MFXButton fx:id="closeAll" text="Alles Schließen"></MFXButton>
                </HBox>
                <TreeView fx:id="fileTreeView" VBox.vgrow="ALWAYS"/>
            </VBox>

            <!-- Hauptinhalt mit TabPane (und je Tab ein SplitPane für Input & Output) -->
            <VBox BorderPane.alignment="CENTER">
                <TabPane fx:id="tabPane" VBox.vgrow="ALWAYS">

                    <!-- Beispiel-Tab mit SplitPane -->
                    <Tab text="example.md">
                        <SplitPane dividerPositions="0.5"
                                   maxHeight="1.7976931348623157E308"
                                   maxWidth="1.7976931348623157E308"
                                   VBox.vgrow="ALWAYS">

                            <!-- Markdown Input -->
                            <AnchorPane fx:id="fileViewInput"
                                        maxHeight="1.7976931348623157E308"
                                        maxWidth="1.7976931348623157E308">
                                <children>
                                    <TextArea fx:id="markdownInput"
                                              promptText="Markdown hier eingeben..."
                                              AnchorPane.topAnchor="0.0" AnchorPane.bottomAnchor="0.0"
                                              AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0"/>
                                </children>
                            </AnchorPane>

                            <!-- HTML Output -->
                            <AnchorPane fx:id="fileViewOutput"
                                        maxHeight="1.7976931348623157E308"
                                        maxWidth="1.7976931348623157E308">
                                <children>
                                    <WebView fx:id="htmlOutput"
                                             AnchorPane.topAnchor="0.0" AnchorPane.bottomAnchor="0.0"
                                             AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0"/>
                                </children>
                            </AnchorPane>

                        </SplitPane>
                    </Tab>

                </TabPane>
            </VBox>

        </SplitPane>
    </center>
</BorderPane>



